<div class="row mb-5">
  {{!-- 左側 --}}
  <div class="col-md-4">
    {{!-- 頭像 --}}
    {{#if user.avatar}}
    <img class="avatar" src="{{user.avatar}}" alt="avatar" title="avatar">
    {{else}}
    <img class="default-avatar" src="/stylesheets/icons/default-avatar.svg" alt="avatar" title="avatar">
    {{/if}}

    {{!-- 姓名 --}}
    <h2>{{user.name}}</h2>
    {{!-- <strong>Nation</strong> --}}
    <p>{{user.nation}}</p>

    <strong>About Me</strong>
    <p style="white-space: break-spaces;">{{user.introduction}}</p>
    <br>
    <a class="btn btn-primary" href="/users/{{user.id}}/edit">edit</a>
    <a class="btn btn-outline-secondary" href="javascript:history.back()">Back</a>
  </div>

  {{!-- 右側 --}}
  <div class="col-md-8">
    {{!-- course info --}}
    <div class="row mb-5">
      <h4>New Schedule</h4>
      <div class="d-flex justify-content-between">
        {{#each futureCourses}}
        <div class="card col-6 me-2">
          <p>Time: {{this.time}}</p>
          <p>Teacher's Name: {{this.Tutor.User.name}}</p>
          <p>Session Link: {{this.Tutor.teachingLink}}</p>
        </div>
        {{/each}}
      </div>
    </div>

    <h4>Lesson History</h4>
    <div class="row">
      {{#each pastCourses}}
      <div class="teacher-info m-2 col-md-4">

        {{#if this.rating}}
        <strong class="teacher-rate badge bg-primary">
          {{this.rating}}</strong>
        {{else}}

        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
          data-bs-target="#ratting-class-{{this.id}}">
          評價
        </button>

        <!-- Modal -->
        <div class="modal fade" id="ratting-class-{{this.id}}" tabindex="-1" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <form action="/courses/{{this.id}}/rating" method="POST">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">給
                    {{this.Tutor.User.name}}
                    評價</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <p>課程時間：{{this.time}}</p>
                  <div id="score">
                    <label for="rate">分數：</label>
                    <select name="rate" id="rate">
                      <option value="5">5</option>
                      <option value="4">4</option>
                      <option value="3">3</option>
                      <option value="2">2</option>
                      <option value="1">1</option>
                    </select>
                  </div>
                  <div id="comment" class="d-flex align-items-center mt-1">
                    <label for="comment">評論：</label>
                    <textarea name="comment" id="comment" rows="1"></textarea>
                  </div>

                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">關閉</button>
                  <button type="submit" class="btn btn-primary">送出</button>
                </div>
              </div>
            </form>
          </div>
        </div>

        {{/if}}
        <img src="{{this.Tutor.User.avatar}}" alt="Teacher Image" class="teacher-image"
          style=" width: 50px;height: 50px;border-radius: 50%;margin-right: 10px;">
        <span class="teacher-name">
          <a href="/tutors/{{this.Tutor.id}}">{{this.Tutor.User.name}}</a>
        </span>

      </div>
      {{/each}}
    </div>
  </div>
</div>